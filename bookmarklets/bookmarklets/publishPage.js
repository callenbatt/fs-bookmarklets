javascript:const PUBLISH_MESSAGE="Updated",check_publish={isPublishOptionAvailable:()=>!document.getElementById("fsPublishButton").classList.contains("fsStateHidden"),isPublishCompleteAvailable:()=>!!document.querySelector("textarea.fsAppModalDialogComment")};function delay(a){return new Promise(b=>setTimeout(b,a))}async function watch(a,b){for(let c=0;100>c&&(await delay(100),!a(b));)console.log("waiting..."),c++;return!0}async function clickPublishOption(){return check_publish.isPublishOptionAvailable()?(document.getElementById("fsPublishButton").click(),!0):(window.alert("page is already published"),!1)}async function clickPublishComplete(){(await watch(check_publish.isPublishCompleteAvailable))&&(document.querySelector("textarea.fsAppModalDialogComment").value=PUBLISH_MESSAGE,document.querySelector("button.fsAppModalCompleteButton").click())}async function publish(){(await clickPublishOption())&&(await clickPublishComplete())}publish();